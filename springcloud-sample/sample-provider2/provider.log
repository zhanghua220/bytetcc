2018-08-01 17:20:31,221 INFO  [main] - [org.springframework.context.annotation.AnnotationConfigApplicationContext] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36: startup date [Wed Aug 01 17:20:31 CST 2018]; root of context hierarchy
2018-08-01 17:20:31,762 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:20:31,769 INFO  [background-preinit] - [org.hibernate.validator.internal.util.Version] - HV000001: Hibernate Validator 5.2.4.Final
2018-08-01 17:20:31,822 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$16b4c290] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:32,467 INFO  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Fetching config from server at: http://localhost:8888
2018-08-01 17:20:33,697 WARN  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/provider2/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-08-01 17:20:33,709 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - No active profile set, falling back to default profiles: default
2018-08-01 17:20:33,760 INFO  [main] - [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext] - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76b224cd: startup date [Wed Aug 01 17:20:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:20:34,582 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud.xml]
2018-08-01 17:20:34,726 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-disable-tx-advice.xml]
2018-08-01 17:20:34,749 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud-core.xml]
2018-08-01 17:20:34,768 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-jta.xml]
2018-08-01 17:20:34,786 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-tcc.xml]
2018-08-01 17:20:34,801 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-task.xml]
2018-08-01 17:20:35,028 INFO  [main] - [org.springframework.beans.factory.support.DefaultListableBeanFactory] - Overriding bean definition for bean 'org.springframework.transaction.config.internalTransactionAdvisor' with a different definition: replacing [Root bean: class [org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration; factoryMethodName=transactionAdvisor; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]]
2018-08-01 17:20:35,029 INFO  [main] - [org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader] - Skipping bean definition for [BeanMethod:name=transactionalEventListenerFactory,declaringClass=org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration]: a definition for bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory' already exists. This top-level bean definition is considered as an override.
2018-08-01 17:20:35,446 INFO  [main] - [org.springframework.cloud.context.scope.GenericScope] - BeanFactory id=c84add68-2949-3138-8ff3-22ff9d27292f
2018-08-01 17:20:35,778 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:20:35,991 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport$$EnhancerBySpringCGLIB$$37dc5d56] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:36,086 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:36,153 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration' of type [org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration$$EnhancerBySpringCGLIB$$fd0005c5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:36,453 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'sleuthAdvisorConfig' of type [org.springframework.cloud.sleuth.annotation.SleuthAdvisorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:36,465 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fa9abf93] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:36,628 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$16b4c290] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:36,668 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration$$EnhancerBySpringCGLIB$$3a2c9859] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:36,709 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$$EnhancerBySpringCGLIB$$e27e6bb2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:36,741 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration$$EnhancerBySpringCGLIB$$3f9751f2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:20:38,174 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat initialized with port(s): 7071 (http)
2018-08-01 17:20:38,188 INFO  [main] - [org.apache.catalina.core.StandardService] - Starting service Tomcat
2018-08-01 17:20:38,191 INFO  [main] - [org.apache.catalina.core.StandardEngine] - Starting Servlet Engine: Apache Tomcat/8.5.5
2018-08-01 17:20:38,450 INFO  [localhost-startStop-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2018-08-01 17:20:38,450 INFO  [localhost-startStop-1] - [org.springframework.web.context.ContextLoader] - Root WebApplicationContext: initialization completed in 4690 ms
2018-08-01 17:20:39,427 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-01 17:20:39,428 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'traceFilter' to: [/*]
2018-08-01 17:20:39,428 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-01 17:20:39,428 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-01 17:20:39,428 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'requestContextFilter' to: [/*]
2018-08-01 17:20:39,428 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.ServletRegistrationBean] - Mapping servlet: 'dispatcherServlet' to [/]
2018-08-01 17:20:42,091 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA UserTransaction: org.bytesoft.bytetcc.UserCompensableImpl@50e8ed74
2018-08-01 17:20:42,091 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA TransactionManager: org.bytesoft.bytetcc.TransactionManagerImpl@74eab077
2018-08-01 17:20:44,206 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter] - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76b224cd: startup date [Wed Aug 01 17:20:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:20:44,527 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/increase],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.increaseAmount(java.lang.String,double)
2018-08-01 17:20:44,528 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/decrease],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.decreaseAmount(java.lang.String,double)
2018-08-01 17:20:44,530 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/prepare/{xid}],methods=[POST]}" onto public int org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.prepare(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:20:44,530 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/forget/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.forget(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:20:44,530 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/recover/{flag}],methods=[GET]}" onto public javax.transaction.xa.Xid[] org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.recover(int,javax.servlet.http.HttpServletResponse)
2018-08-01 17:20:44,530 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/commit/{xid}/{opc}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.commit(java.lang.String,boolean,javax.servlet.http.HttpServletResponse)
2018-08-01 17:20:44,531 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/rollback/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.rollback(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:20:44,534 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-01 17:20:44,535 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-01 17:20:44,818 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:20:44,819 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:20:44,967 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:20:46,539 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:20:46,539 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:20:46,547 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:20:46,548 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:20:47,882 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Registering beans for JMX exposure on startup
2018-08-01 17:20:47,893 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-08-01 17:20:47,894 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-08-01 17:20:47,896 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-08-01 17:20:47,899 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-08-01 17:20:47,914 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-08-01 17:20:47,931 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=76b224cd,type=ConfigurationPropertiesRebinder]
2018-08-01 17:20:48,176 INFO  [main] - [org.springframework.context.support.DefaultLifecycleProcessor] - Starting beans in phase 0
2018-08-01 17:20:48,204 INFO  [main] - [org.springframework.cloud.netflix.eureka.InstanceInfoFactory] - Setting initial instance status as: STARTING
2018-08-01 17:20:48,357 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Initializing Eureka in region us-east-1
2018-08-01 17:20:48,486 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON encoding codec LegacyJacksonJson
2018-08-01 17:20:48,486 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON decoding codec LegacyJacksonJson
2018-08-01 17:20:48,663 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML encoding codec XStreamXml
2018-08-01 17:20:48,663 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML decoding codec XStreamXml
2018-08-01 17:20:49,007 INFO  [main] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 17:20:49,125 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Disable delta property : false
2018-08-01 17:20:49,125 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Single vip registry refresh property : null
2018-08-01 17:20:49,125 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Force full registry fetch : false
2018-08-01 17:20:49,125 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application is null : false
2018-08-01 17:20:49,125 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Registered Applications size is zero : true
2018-08-01 17:20:49,125 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application version is -1: true
2018-08-01 17:20:49,125 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Getting all instance registry info from the eureka server
2018-08-01 17:20:49,602 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - The response status is 200
2018-08-01 17:20:49,603 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Starting heartbeat executor: renew interval is: 30
2018-08-01 17:20:49,609 INFO  [main] - [com.netflix.discovery.InstanceInfoReplicator] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-08-01 17:20:49,616 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Discovery Client initialized at timestamp 1533115249616 with initial instances count: 0
2018-08-01 17:20:49,771 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry] - Registering application provider2 with eureka with status UP
2018-08-01 17:20:49,773 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Saw local status change event StatusChangeEvent [timestamp=1533115249773, current=UP, previous=STARTING]
2018-08-01 17:20:49,776 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071: registering service...
2018-08-01 17:20:49,830 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Initializing ProtocolHandler ["http-nio-7071"]
2018-08-01 17:20:49,910 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Starting ProtocolHandler [http-nio-7071]
2018-08-01 17:20:49,912 INFO  [main] - [org.apache.tomcat.util.net.NioSelectorPool] - Using a shared selector for servlet write/read
2018-08-01 17:20:49,974 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat started on port(s): 7071 (http)
2018-08-01 17:20:49,974 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration] - Updating port to 7071
2018-08-01 17:20:49,976 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - registration status: 204
2018-08-01 17:20:49,980 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - Started SampleProvider2Main in 19.588 seconds (JVM running for 21.372)
2018-08-01 17:21:05,437 INFO  [main] - [org.springframework.context.annotation.AnnotationConfigApplicationContext] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36: startup date [Wed Aug 01 17:21:05 CST 2018]; root of context hierarchy
2018-08-01 17:21:05,941 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:21:05,998 INFO  [background-preinit] - [org.hibernate.validator.internal.util.Version] - HV000001: Hibernate Validator 5.2.4.Final
2018-08-01 17:21:06,018 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$488987c5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:06,691 INFO  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Fetching config from server at: http://localhost:8888
2018-08-01 17:21:07,829 WARN  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/provider2/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-08-01 17:21:07,840 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - No active profile set, falling back to default profiles: default
2018-08-01 17:21:07,871 INFO  [main] - [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext] - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e52fb3e: startup date [Wed Aug 01 17:21:07 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:21:08,672 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud.xml]
2018-08-01 17:21:08,807 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-disable-tx-advice.xml]
2018-08-01 17:21:08,831 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud-core.xml]
2018-08-01 17:21:08,850 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-jta.xml]
2018-08-01 17:21:08,867 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-tcc.xml]
2018-08-01 17:21:08,885 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-task.xml]
2018-08-01 17:21:09,129 INFO  [main] - [org.springframework.beans.factory.support.DefaultListableBeanFactory] - Overriding bean definition for bean 'org.springframework.transaction.config.internalTransactionAdvisor' with a different definition: replacing [Root bean: class [org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration; factoryMethodName=transactionAdvisor; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]]
2018-08-01 17:21:09,129 INFO  [main] - [org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader] - Skipping bean definition for [BeanMethod:name=transactionalEventListenerFactory,declaringClass=org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration]: a definition for bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory' already exists. This top-level bean definition is considered as an override.
2018-08-01 17:21:09,564 INFO  [main] - [org.springframework.cloud.context.scope.GenericScope] - BeanFactory id=c84add68-2949-3138-8ff3-22ff9d27292f
2018-08-01 17:21:09,938 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:21:10,123 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport$$EnhancerBySpringCGLIB$$69b1228b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:10,175 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:10,236 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration' of type [org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration$$EnhancerBySpringCGLIB$$2ed4cafa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:10,535 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'sleuthAdvisorConfig' of type [org.springframework.cloud.sleuth.annotation.SleuthAdvisorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:10,546 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2c6f84c8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:10,711 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$488987c5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:10,748 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6c015d8e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:10,785 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$$EnhancerBySpringCGLIB$$145330e7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:10,818 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration$$EnhancerBySpringCGLIB$$716c1727] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:21:11,748 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat initialized with port(s): 7071 (http)
2018-08-01 17:21:11,765 INFO  [main] - [org.apache.catalina.core.StandardService] - Starting service Tomcat
2018-08-01 17:21:11,767 INFO  [main] - [org.apache.catalina.core.StandardEngine] - Starting Servlet Engine: Apache Tomcat/8.5.5
2018-08-01 17:21:12,000 INFO  [localhost-startStop-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2018-08-01 17:21:12,000 INFO  [localhost-startStop-1] - [org.springframework.web.context.ContextLoader] - Root WebApplicationContext: initialization completed in 4129 ms
2018-08-01 17:21:12,747 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-01 17:21:12,749 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'traceFilter' to: [/*]
2018-08-01 17:21:12,749 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-01 17:21:12,749 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-01 17:21:12,749 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'requestContextFilter' to: [/*]
2018-08-01 17:21:12,749 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.ServletRegistrationBean] - Mapping servlet: 'dispatcherServlet' to [/]
2018-08-01 17:21:14,693 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA UserTransaction: org.bytesoft.bytetcc.UserCompensableImpl@77d959f1
2018-08-01 17:21:14,694 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA TransactionManager: org.bytesoft.bytetcc.TransactionManagerImpl@11c999da
2018-08-01 17:21:16,606 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter] - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e52fb3e: startup date [Wed Aug 01 17:21:07 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:21:16,907 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/decrease],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.decreaseAmount(java.lang.String,double)
2018-08-01 17:21:16,908 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/increase],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.increaseAmount(java.lang.String,double)
2018-08-01 17:21:16,910 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/prepare/{xid}],methods=[POST]}" onto public int org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.prepare(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:21:16,911 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/commit/{xid}/{opc}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.commit(java.lang.String,boolean,javax.servlet.http.HttpServletResponse)
2018-08-01 17:21:16,911 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/rollback/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.rollback(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:21:16,911 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/recover/{flag}],methods=[GET]}" onto public javax.transaction.xa.Xid[] org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.recover(int,javax.servlet.http.HttpServletResponse)
2018-08-01 17:21:16,911 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/forget/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.forget(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:21:16,914 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-01 17:21:16,915 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-01 17:21:17,117 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:21:17,117 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:21:17,284 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:21:18,747 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:21:18,747 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:21:18,754 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:21:18,754 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:21:19,608 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Disable delta property : false
2018-08-01 17:21:19,609 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Single vip registry refresh property : null
2018-08-01 17:21:19,609 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Force full registry fetch : false
2018-08-01 17:21:19,609 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Application is null : false
2018-08-01 17:21:19,609 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Registered Applications size is zero : true
2018-08-01 17:21:19,609 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Application version is -1: false
2018-08-01 17:21:19,609 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Getting all instance registry info from the eureka server
2018-08-01 17:21:19,671 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - The response status is 200
2018-08-01 17:21:20,205 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Registering beans for JMX exposure on startup
2018-08-01 17:21:20,222 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-08-01 17:21:20,228 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-08-01 17:21:20,231 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-08-01 17:21:20,236 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-08-01 17:21:20,256 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-08-01 17:21:20,278 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=2e52fb3e,type=ConfigurationPropertiesRebinder]
2018-08-01 17:21:20,448 INFO  [main] - [org.springframework.context.support.DefaultLifecycleProcessor] - Starting beans in phase 0
2018-08-01 17:21:20,460 INFO  [main] - [org.springframework.cloud.netflix.eureka.InstanceInfoFactory] - Setting initial instance status as: STARTING
2018-08-01 17:21:20,545 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Initializing Eureka in region us-east-1
2018-08-01 17:21:20,681 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON encoding codec LegacyJacksonJson
2018-08-01 17:21:20,681 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON decoding codec LegacyJacksonJson
2018-08-01 17:21:20,862 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML encoding codec XStreamXml
2018-08-01 17:21:20,862 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML decoding codec XStreamXml
2018-08-01 17:21:21,215 INFO  [main] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 17:21:21,317 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Disable delta property : false
2018-08-01 17:21:21,317 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Single vip registry refresh property : null
2018-08-01 17:21:21,317 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Force full registry fetch : false
2018-08-01 17:21:21,317 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application is null : false
2018-08-01 17:21:21,317 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Registered Applications size is zero : true
2018-08-01 17:21:21,317 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application version is -1: true
2018-08-01 17:21:21,317 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Getting all instance registry info from the eureka server
2018-08-01 17:21:21,520 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - The response status is 200
2018-08-01 17:21:21,523 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Starting heartbeat executor: renew interval is: 30
2018-08-01 17:21:21,530 INFO  [main] - [com.netflix.discovery.InstanceInfoReplicator] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-08-01 17:21:21,536 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Discovery Client initialized at timestamp 1533115281535 with initial instances count: 1
2018-08-01 17:21:21,680 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry] - Registering application provider2 with eureka with status UP
2018-08-01 17:21:21,681 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Saw local status change event StatusChangeEvent [timestamp=1533115281681, current=UP, previous=STARTING]
2018-08-01 17:21:21,686 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071: registering service...
2018-08-01 17:21:21,708 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Initializing ProtocolHandler ["http-nio-7071"]
2018-08-01 17:21:21,746 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - registration status: 204
2018-08-01 17:21:21,747 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Starting ProtocolHandler [http-nio-7071]
2018-08-01 17:21:21,751 ERROR [main] - [org.apache.coyote.http11.Http11NioProtocol] - Failed to start end point associated with ProtocolHandler [http-nio-7071]
java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:228)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:874)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:590)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:969)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.addPreviouslyRemovedConnectors(TomcatEmbeddedServletContainer.java:247)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.start(TomcatEmbeddedServletContainer.java:190)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.startEmbeddedServletContainer(EmbeddedWebApplicationContext.java:297)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:145)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)
	at com.bytesvc.provider.main.SampleProvider2Main.main(SampleProvider2Main.java:15)
2018-08-01 17:21:21,752 ERROR [main] - [org.apache.catalina.core.StandardService] - Failed to start connector [Connector[HTTP/1.1-7071]]
org.apache.catalina.LifecycleException: Failed to start component [Connector[HTTP/1.1-7071]]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.addPreviouslyRemovedConnectors(TomcatEmbeddedServletContainer.java:247)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.start(TomcatEmbeddedServletContainer.java:190)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.startEmbeddedServletContainer(EmbeddedWebApplicationContext.java:297)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:145)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)
	at com.bytesvc.provider.main.SampleProvider2Main.main(SampleProvider2Main.java:15)
Caused by: org.apache.catalina.LifecycleException: service.getName(): "Tomcat";  Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:976)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	... 12 common frames omitted
Caused by: java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:228)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:874)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:590)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:969)
	... 13 common frames omitted
2018-08-01 17:21:21,764 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Pausing ProtocolHandler ["http-nio-7071"]
2018-08-01 17:21:21,765 INFO  [main] - [org.apache.catalina.core.StandardService] - Stopping service Tomcat
2018-08-01 17:21:21,858 INFO  [main] - [org.apache.catalina.util.LifecycleBase] - The stop() method was called on component [StandardServer[-1]] after stop() had already been called. The second call will be ignored.
2018-08-01 17:21:21,859 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Stopping ProtocolHandler ["http-nio-7071"]
2018-08-01 17:21:21,860 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Destroying ProtocolHandler ["http-nio-7071"]
2018-08-01 17:21:21,867 INFO  [main] - [org.springframework.boot.autoconfigure.logging.AutoConfigurationReportLoggingInitializer] - 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2018-08-01 17:21:21,875 ERROR [main] - [org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 7071 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 7071, or configure this application to listen on another port.

2018-08-01 17:21:21,877 INFO  [main] - [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext] - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e52fb3e: startup date [Wed Aug 01 17:21:07 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:21:21,878 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry] - Unregistering application provider2 with eureka with status DOWN
2018-08-01 17:21:21,878 WARN  [main] - [com.netflix.discovery.DiscoveryClient] - Saw local status change event StatusChangeEvent [timestamp=1533115281878, current=DOWN, previous=UP]
2018-08-01 17:21:21,878 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Shutting down DiscoveryClient ...
2018-08-01 17:21:21,879 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Unregistering ...
2018-08-01 17:21:21,925 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - deregister  status: 200
2018-08-01 17:21:21,945 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Completed shut down of DiscoveryClient
2018-08-01 17:21:21,947 INFO  [main] - [org.springframework.context.support.DefaultLifecycleProcessor] - Stopping beans in phase 0
2018-08-01 17:21:23,025 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Unregistering JMX-exposed beans on shutdown
2018-08-01 17:21:23,025 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Unregistering JMX-exposed beans
2018-08-01 17:21:49,733 INFO  [DiscoveryClient-HeartbeatExecutor-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - Re-registering apps/PROVIDER2
2018-08-01 17:21:49,733 INFO  [DiscoveryClient-HeartbeatExecutor-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071: registering service...
2018-08-01 17:21:49,751 INFO  [DiscoveryClient-HeartbeatExecutor-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - registration status: 204
2018-08-01 17:23:47,122 INFO  [main] - [org.springframework.context.annotation.AnnotationConfigApplicationContext] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36: startup date [Wed Aug 01 17:23:47 CST 2018]; root of context hierarchy
2018-08-01 17:23:47,660 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:23:47,662 INFO  [background-preinit] - [org.hibernate.validator.internal.util.Version] - HV000001: Hibernate Validator 5.2.4.Final
2018-08-01 17:23:47,723 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$99881298] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:48,365 INFO  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Fetching config from server at: http://localhost:8888
2018-08-01 17:23:49,487 WARN  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/provider2/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-08-01 17:23:49,498 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - No active profile set, falling back to default profiles: default
2018-08-01 17:23:49,539 INFO  [main] - [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext] - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@614aeccc: startup date [Wed Aug 01 17:23:49 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:23:50,311 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud.xml]
2018-08-01 17:23:50,433 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-disable-tx-advice.xml]
2018-08-01 17:23:50,454 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud-core.xml]
2018-08-01 17:23:50,482 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-jta.xml]
2018-08-01 17:23:50,498 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-tcc.xml]
2018-08-01 17:23:50,516 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-task.xml]
2018-08-01 17:23:50,744 INFO  [main] - [org.springframework.beans.factory.support.DefaultListableBeanFactory] - Overriding bean definition for bean 'org.springframework.transaction.config.internalTransactionAdvisor' with a different definition: replacing [Root bean: class [org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration; factoryMethodName=transactionAdvisor; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]]
2018-08-01 17:23:50,744 INFO  [main] - [org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader] - Skipping bean definition for [BeanMethod:name=transactionalEventListenerFactory,declaringClass=org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration]: a definition for bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory' already exists. This top-level bean definition is considered as an override.
2018-08-01 17:23:51,183 INFO  [main] - [org.springframework.cloud.context.scope.GenericScope] - BeanFactory id=c84add68-2949-3138-8ff3-22ff9d27292f
2018-08-01 17:23:51,500 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:23:51,658 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport$$EnhancerBySpringCGLIB$$baafad5e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:51,713 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:51,776 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration' of type [org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration$$EnhancerBySpringCGLIB$$7fd355cd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:52,074 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'sleuthAdvisorConfig' of type [org.springframework.cloud.sleuth.annotation.SleuthAdvisorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:52,086 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7d6e0f9b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:52,245 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$99881298] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:52,279 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration$$EnhancerBySpringCGLIB$$bcffe861] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:52,311 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$$EnhancerBySpringCGLIB$$6551bbba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:52,344 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration$$EnhancerBySpringCGLIB$$c26aa1fa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:23:53,279 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat initialized with port(s): 7071 (http)
2018-08-01 17:23:53,296 INFO  [main] - [org.apache.catalina.core.StandardService] - Starting service Tomcat
2018-08-01 17:23:53,298 INFO  [main] - [org.apache.catalina.core.StandardEngine] - Starting Servlet Engine: Apache Tomcat/8.5.5
2018-08-01 17:23:53,511 INFO  [localhost-startStop-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2018-08-01 17:23:53,512 INFO  [localhost-startStop-1] - [org.springframework.web.context.ContextLoader] - Root WebApplicationContext: initialization completed in 3973 ms
2018-08-01 17:23:54,365 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-01 17:23:54,366 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'traceFilter' to: [/*]
2018-08-01 17:23:54,366 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-01 17:23:54,366 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-01 17:23:54,366 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'requestContextFilter' to: [/*]
2018-08-01 17:23:54,366 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.ServletRegistrationBean] - Mapping servlet: 'dispatcherServlet' to [/]
2018-08-01 17:23:56,404 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA UserTransaction: org.bytesoft.bytetcc.UserCompensableImpl@4e030feb
2018-08-01 17:23:56,404 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA TransactionManager: org.bytesoft.bytetcc.TransactionManagerImpl@2411b935
2018-08-01 17:23:58,762 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter] - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@614aeccc: startup date [Wed Aug 01 17:23:49 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:23:59,184 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/increase],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.increaseAmount(java.lang.String,double)
2018-08-01 17:23:59,188 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/decrease],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.decreaseAmount(java.lang.String,double)
2018-08-01 17:23:59,189 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/prepare/{xid}],methods=[POST]}" onto public int org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.prepare(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:23:59,189 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/commit/{xid}/{opc}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.commit(java.lang.String,boolean,javax.servlet.http.HttpServletResponse)
2018-08-01 17:23:59,190 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/rollback/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.rollback(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:23:59,190 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/forget/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.forget(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:23:59,190 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/recover/{flag}],methods=[GET]}" onto public javax.transaction.xa.Xid[] org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.recover(int,javax.servlet.http.HttpServletResponse)
2018-08-01 17:23:59,193 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-01 17:23:59,194 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-01 17:23:59,429 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:23:59,429 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:23:59,609 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:24:01,241 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:24:01,241 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:24:01,250 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:24:01,250 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:24:02,756 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Registering beans for JMX exposure on startup
2018-08-01 17:24:02,771 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-08-01 17:24:02,772 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-08-01 17:24:02,773 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-08-01 17:24:02,777 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-08-01 17:24:02,793 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-08-01 17:24:02,810 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=614aeccc,type=ConfigurationPropertiesRebinder]
2018-08-01 17:24:03,060 INFO  [main] - [org.springframework.context.support.DefaultLifecycleProcessor] - Starting beans in phase 0
2018-08-01 17:24:03,072 INFO  [main] - [org.springframework.cloud.netflix.eureka.InstanceInfoFactory] - Setting initial instance status as: STARTING
2018-08-01 17:24:03,165 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Initializing Eureka in region us-east-1
2018-08-01 17:24:03,289 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON encoding codec LegacyJacksonJson
2018-08-01 17:24:03,289 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON decoding codec LegacyJacksonJson
2018-08-01 17:24:03,432 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML encoding codec XStreamXml
2018-08-01 17:24:03,432 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML decoding codec XStreamXml
2018-08-01 17:24:03,809 INFO  [main] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 17:24:03,919 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Disable delta property : false
2018-08-01 17:24:03,919 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Single vip registry refresh property : null
2018-08-01 17:24:03,919 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Force full registry fetch : false
2018-08-01 17:24:03,919 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application is null : false
2018-08-01 17:24:03,919 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Registered Applications size is zero : true
2018-08-01 17:24:03,919 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application version is -1: true
2018-08-01 17:24:03,919 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Getting all instance registry info from the eureka server
2018-08-01 17:24:04,530 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - The response status is 200
2018-08-01 17:24:04,542 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Starting heartbeat executor: renew interval is: 30
2018-08-01 17:24:04,548 INFO  [main] - [com.netflix.discovery.InstanceInfoReplicator] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-08-01 17:24:04,559 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Discovery Client initialized at timestamp 1533115444559 with initial instances count: 0
2018-08-01 17:24:05,277 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry] - Registering application provider2 with eureka with status UP
2018-08-01 17:24:05,279 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Saw local status change event StatusChangeEvent [timestamp=1533115445278, current=UP, previous=STARTING]
2018-08-01 17:24:05,300 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071: registering service...
2018-08-01 17:24:05,318 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Initializing ProtocolHandler ["http-nio-7071"]
2018-08-01 17:24:05,353 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Starting ProtocolHandler [http-nio-7071]
2018-08-01 17:24:05,354 INFO  [main] - [org.apache.tomcat.util.net.NioSelectorPool] - Using a shared selector for servlet write/read
2018-08-01 17:24:05,416 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat started on port(s): 7071 (http)
2018-08-01 17:24:05,417 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration] - Updating port to 7071
2018-08-01 17:24:05,447 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - Started SampleProvider2Main in 19.024 seconds (JVM running for 19.792)
2018-08-01 17:24:05,623 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - registration status: 204
2018-08-01 17:24:34,535 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Disable delta property : false
2018-08-01 17:24:34,535 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Single vip registry refresh property : null
2018-08-01 17:24:34,536 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Force full registry fetch : false
2018-08-01 17:24:34,538 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Application is null : false
2018-08-01 17:24:34,538 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Registered Applications size is zero : true
2018-08-01 17:24:34,538 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Application version is -1: false
2018-08-01 17:24:34,541 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - Getting all instance registry info from the eureka server
2018-08-01 17:24:34,572 INFO  [DiscoveryClient-CacheRefreshExecutor-0] - [com.netflix.discovery.DiscoveryClient] - The response status is 200
2018-08-01 17:29:03,924 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 17:44:39,879 INFO  [main] - [org.springframework.context.annotation.AnnotationConfigApplicationContext] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1fb700ee: startup date [Wed Aug 01 17:44:39 CST 2018]; root of context hierarchy
2018-08-01 17:44:40,559 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:44:40,907 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d257aa6a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:41,077 INFO  [background-preinit] - [org.hibernate.validator.internal.util.Version] - HV000001: Hibernate Validator 5.2.4.Final
2018-08-01 17:44:42,187 INFO  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Fetching config from server at: http://localhost:8888
2018-08-01 17:44:43,590 WARN  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/provider2/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-08-01 17:44:43,596 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - No active profile set, falling back to default profiles: default
2018-08-01 17:44:43,622 INFO  [main] - [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext] - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4233e892: startup date [Wed Aug 01 17:44:43 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1fb700ee
2018-08-01 17:44:46,220 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud.xml]
2018-08-01 17:44:46,372 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-disable-tx-advice.xml]
2018-08-01 17:44:46,394 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud-core.xml]
2018-08-01 17:44:46,412 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-jta.xml]
2018-08-01 17:44:46,432 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-tcc.xml]
2018-08-01 17:44:46,446 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-task.xml]
2018-08-01 17:44:47,011 INFO  [main] - [org.springframework.beans.factory.support.DefaultListableBeanFactory] - Overriding bean definition for bean 'org.springframework.transaction.config.internalTransactionAdvisor' with a different definition: replacing [Root bean: class [org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration; factoryMethodName=transactionAdvisor; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]]
2018-08-01 17:44:47,012 INFO  [main] - [org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader] - Skipping bean definition for [BeanMethod:name=transactionalEventListenerFactory,declaringClass=org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration]: a definition for bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory' already exists. This top-level bean definition is considered as an override.
2018-08-01 17:44:47,816 INFO  [main] - [org.springframework.cloud.context.scope.GenericScope] - BeanFactory id=c84add68-2949-3138-8ff3-22ff9d27292f
2018-08-01 17:44:48,299 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:44:48,535 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport$$EnhancerBySpringCGLIB$$f37f4530] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:48,647 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:48,788 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration' of type [org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration$$EnhancerBySpringCGLIB$$b8a2ed9f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:49,414 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'sleuthAdvisorConfig' of type [org.springframework.cloud.sleuth.annotation.SleuthAdvisorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:49,425 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b63da76d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:50,161 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d257aa6a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:50,238 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f5cf8033] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:50,286 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$$EnhancerBySpringCGLIB$$9e21538c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:50,364 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration$$EnhancerBySpringCGLIB$$fb3a39cc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:44:52,921 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat initialized with port(s): 7071 (http)
2018-08-01 17:44:52,947 INFO  [main] - [org.apache.catalina.core.StandardService] - Starting service Tomcat
2018-08-01 17:44:52,951 INFO  [main] - [org.apache.catalina.core.StandardEngine] - Starting Servlet Engine: Apache Tomcat/8.5.5
2018-08-01 17:44:53,630 INFO  [localhost-startStop-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2018-08-01 17:44:53,630 INFO  [localhost-startStop-1] - [org.springframework.web.context.ContextLoader] - Root WebApplicationContext: initialization completed in 10008 ms
2018-08-01 17:44:56,584 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-01 17:44:56,585 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'traceFilter' to: [/*]
2018-08-01 17:44:56,585 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-01 17:44:56,585 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-01 17:44:56,585 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'requestContextFilter' to: [/*]
2018-08-01 17:44:56,587 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.ServletRegistrationBean] - Mapping servlet: 'dispatcherServlet' to [/]
2018-08-01 17:45:04,210 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA UserTransaction: org.bytesoft.bytetcc.UserCompensableImpl@120350eb
2018-08-01 17:45:04,210 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA TransactionManager: org.bytesoft.bytetcc.TransactionManagerImpl@2ccc9681
2018-08-01 17:45:05,948 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter] - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4233e892: startup date [Wed Aug 01 17:44:43 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1fb700ee
2018-08-01 17:45:06,185 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/increase],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.increaseAmount(java.lang.String,double)
2018-08-01 17:45:06,186 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/decrease],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.decreaseAmount(java.lang.String,double)
2018-08-01 17:45:06,187 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/prepare/{xid}],methods=[POST]}" onto public int org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.prepare(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:45:06,187 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/commit/{xid}/{opc}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.commit(java.lang.String,boolean,javax.servlet.http.HttpServletResponse)
2018-08-01 17:45:06,188 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/rollback/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.rollback(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:45:06,188 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/forget/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.forget(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:45:06,188 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/recover/{flag}],methods=[GET]}" onto public javax.transaction.xa.Xid[] org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.recover(int,javax.servlet.http.HttpServletResponse)
2018-08-01 17:45:06,192 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-01 17:45:06,192 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-01 17:45:06,395 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:45:06,395 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:45:06,500 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:45:07,762 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:45:07,762 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:45:07,769 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:45:07,770 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:45:08,809 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Registering beans for JMX exposure on startup
2018-08-01 17:45:08,819 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-08-01 17:45:08,820 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-08-01 17:45:08,823 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-08-01 17:45:08,826 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-08-01 17:45:08,840 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-08-01 17:45:08,853 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=4233e892,type=ConfigurationPropertiesRebinder]
2018-08-01 17:45:08,988 INFO  [main] - [org.springframework.context.support.DefaultLifecycleProcessor] - Starting beans in phase 0
2018-08-01 17:45:08,999 INFO  [main] - [org.springframework.cloud.netflix.eureka.InstanceInfoFactory] - Setting initial instance status as: STARTING
2018-08-01 17:45:09,079 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Initializing Eureka in region us-east-1
2018-08-01 17:45:09,167 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON encoding codec LegacyJacksonJson
2018-08-01 17:45:09,168 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON decoding codec LegacyJacksonJson
2018-08-01 17:45:09,306 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML encoding codec XStreamXml
2018-08-01 17:45:09,307 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML decoding codec XStreamXml
2018-08-01 17:45:09,544 INFO  [main] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 17:45:09,630 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Disable delta property : false
2018-08-01 17:45:09,630 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Single vip registry refresh property : null
2018-08-01 17:45:09,630 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Force full registry fetch : false
2018-08-01 17:45:09,630 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application is null : false
2018-08-01 17:45:09,630 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Registered Applications size is zero : true
2018-08-01 17:45:09,630 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application version is -1: true
2018-08-01 17:45:09,630 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Getting all instance registry info from the eureka server
2018-08-01 17:45:09,818 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - The response status is 200
2018-08-01 17:45:09,820 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Starting heartbeat executor: renew interval is: 30
2018-08-01 17:45:09,824 INFO  [main] - [com.netflix.discovery.InstanceInfoReplicator] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-08-01 17:45:09,827 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Discovery Client initialized at timestamp 1533116709827 with initial instances count: 1
2018-08-01 17:45:09,998 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry] - Registering application provider2 with eureka with status UP
2018-08-01 17:45:10,000 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Saw local status change event StatusChangeEvent [timestamp=1533116710000, current=UP, previous=STARTING]
2018-08-01 17:45:10,004 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071: registering service...
2018-08-01 17:45:10,038 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Initializing ProtocolHandler ["http-nio-7071"]
2018-08-01 17:45:10,057 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - registration status: 204
2018-08-01 17:45:10,061 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Starting ProtocolHandler [http-nio-7071]
2018-08-01 17:45:10,063 INFO  [main] - [org.apache.tomcat.util.net.NioSelectorPool] - Using a shared selector for servlet write/read
2018-08-01 17:45:10,115 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat started on port(s): 7071 (http)
2018-08-01 17:45:10,116 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration] - Updating port to 7071
2018-08-01 17:45:10,120 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - Started SampleProvider2Main in 31.761 seconds (JVM running for 33.103)
2018-08-01 17:46:08,859 INFO  [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-01 17:46:08,860 INFO  [http-nio-7071-exec-1] - [org.springframework.web.servlet.DispatcherServlet] - FrameworkServlet 'dispatcherServlet': initialization started
2018-08-01 17:46:09,518 INFO  [http-nio-7071-exec-1] - [org.springframework.web.servlet.DispatcherServlet] - FrameworkServlet 'dispatcherServlet': initialization completed in 658 ms
2018-08-01 17:46:09,861 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e15f8b00049a693b93| compensable transaction begin!
2018-08-01 17:46:09,902 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e15f8b00049a693b93| compensable transaction rolled back!
2018-08-01 17:46:09,902 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e15f8b00049a693b93| forget transaction.
2018-08-01 17:46:10,433 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e166770001f090b096] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e1688100025761d0c6, flags: 0
2018-08-01 17:46:10,436 ERROR [http-nio-7071-exec-1] - [org.bytesoft.transaction.internal.TransactionResourceListenerList] - null
java.lang.NullPointerException: null
	at org.bytesoft.bytetcc.CompensableTransactionImpl.onEnlistResource(CompensableTransactionImpl.java:838)
	at org.bytesoft.transaction.internal.TransactionResourceListenerList.onEnlistResource(TransactionResourceListenerList.java:41)
	at org.bytesoft.bytejta.TransactionImpl.enlistResource(TransactionImpl.java:867)
	at org.bytesoft.bytejta.TransactionImpl.enlistResource(TransactionImpl.java:773)
	at org.bytesoft.bytejta.supports.jdbc.LocalXADataSource.getConnection(LocalXADataSource.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.bytesoft.bytejta.supports.resource.ManagedConnectionFactoryHandler.invoke(ManagedConnectionFactoryHandler.java:42)
	at com.sun.proxy.$Proxy94.getConnection(Unknown Source)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941)
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:41)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:77)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:46:10,469 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e166770001f090b096] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e1688100025761d0c6, flags= 67108864
2018-08-01 17:46:10,470 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e166770001f090b096] rollback-transaction start
2018-08-01 17:46:10,486 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e166770001f090b096] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e1688100025761d0c6
2018-08-01 17:46:10,486 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e166770001f090b096] rollback-transaction complete successfully
2018-08-01 17:46:10,494 ERROR [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:77)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:46:11,674 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@257d3968)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 17:46:52,908 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e20e09000974aea0da| compensable transaction begin!
2018-08-01 17:46:52,911 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e20e09000974aea0da| register compensable service: a81e84a8fe2c00000164f4e20e09000974aea0da.
2018-08-01 17:46:52,912 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e20e6f00035d93f7d6] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e20e70000517fe468e, flags: 0
2018-08-01 17:46:52,918 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e20e6f00035d93f7d6] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e20e70000517fe468e, flags= 67108864
2018-08-01 17:46:52,918 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e20e6f00035d93f7d6] rollback-transaction start
2018-08-01 17:46:52,919 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e20e6f00035d93f7d6] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e20e70000517fe468e
2018-08-01 17:46:52,920 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e20e6f00035d93f7d6] rollback-transaction complete successfully
2018-08-01 17:46:52,921 ERROR [http-nio-7071-exec-3] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:46:53,000 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e20e09000974aea0da| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e20e09000974aea0da.
2018-08-01 17:46:53,000 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e20e09000974aea0da| compensable transaction rolled back!
2018-08-01 17:46:53,000 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e20e09000974aea0da| forget transaction.
2018-08-01 17:46:53,989 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e21237000e4c5937a8| compensable transaction begin!
2018-08-01 17:46:53,990 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e21237000e4c5937a8| register compensable service: a81e84a8fe2c00000164f4e21237000e4c5937a8.
2018-08-01 17:46:53,991 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e212a6000634704927] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e212a700082c46c835, flags: 0
2018-08-01 17:46:53,995 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e212a6000634704927] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e212a700082c46c835, flags= 67108864
2018-08-01 17:46:53,995 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e212a6000634704927] rollback-transaction start
2018-08-01 17:46:53,997 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e212a6000634704927] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e212a700082c46c835
2018-08-01 17:46:53,997 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e212a6000634704927] rollback-transaction complete successfully
2018-08-01 17:46:53,998 ERROR [http-nio-7071-exec-5] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:46:54,170 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e21237000e4c5937a8| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e21237000e4c5937a8.
2018-08-01 17:46:54,171 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e21237000e4c5937a8| compensable transaction rolled back!
2018-08-01 17:46:54,171 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e21237000e4c5937a8| forget transaction.
2018-08-01 17:46:55,456 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e2180a0013f2b2de66| compensable transaction begin!
2018-08-01 17:46:55,457 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2180a0013f2b2de66| register compensable service: a81e84a8fe2c00000164f4e2180a0013f2b2de66.
2018-08-01 17:46:55,458 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e21861000978635a3b] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e21862000be81957b5, flags: 0
2018-08-01 17:46:55,463 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e21861000978635a3b] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e21862000be81957b5, flags= 67108864
2018-08-01 17:46:55,463 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e21861000978635a3b] rollback-transaction start
2018-08-01 17:46:55,464 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e21861000978635a3b] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e21862000be81957b5
2018-08-01 17:46:55,464 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e21861000978635a3b] rollback-transaction complete successfully
2018-08-01 17:46:55,465 ERROR [http-nio-7071-exec-7] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:46:55,555 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2180a0013f2b2de66| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e2180a0013f2b2de66.
2018-08-01 17:46:55,557 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2180a0013f2b2de66| compensable transaction rolled back!
2018-08-01 17:46:55,558 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2180a0013f2b2de66| forget transaction.
2018-08-01 17:46:55,714 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@257d3968)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 17:46:55,980 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e219d20018f710235c| compensable transaction begin!
2018-08-01 17:46:55,980 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e219d20018f710235c| register compensable service: a81e84a8fe2c00000164f4e219d20018f710235c.
2018-08-01 17:46:55,981 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e21a6c000cef3c4aa1] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e21a6d000e24b4b382, flags: 0
2018-08-01 17:46:55,985 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e21a6c000cef3c4aa1] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e21a6d000e24b4b382, flags= 67108864
2018-08-01 17:46:55,985 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e21a6c000cef3c4aa1] rollback-transaction start
2018-08-01 17:46:55,986 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e21a6c000cef3c4aa1] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e21a6d000e24b4b382
2018-08-01 17:46:55,986 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e21a6c000cef3c4aa1] rollback-transaction complete successfully
2018-08-01 17:46:56,094 ERROR [http-nio-7071-exec-9] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:46:56,619 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e219d20018f710235c| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e219d20018f710235c.
2018-08-01 17:46:56,620 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e219d20018f710235c| compensable transaction rolled back!
2018-08-01 17:46:56,620 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e219d20018f710235c| forget transaction.
2018-08-01 17:46:57,719 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@257d3968)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 2 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 17:46:58,094 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e221e1001d7a0e073e| compensable transaction begin!
2018-08-01 17:46:58,096 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e221e1001d7a0e073e| register compensable service: a81e84a8fe2c00000164f4e221e1001d7a0e073e.
2018-08-01 17:46:58,097 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e222af000f7e6c1aa2] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e222b100115013d103, flags: 0
2018-08-01 17:46:58,104 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e222af000f7e6c1aa2] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e222b100115013d103, flags= 67108864
2018-08-01 17:46:58,105 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e222af000f7e6c1aa2] rollback-transaction start
2018-08-01 17:46:58,107 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e222af000f7e6c1aa2] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e222b100115013d103
2018-08-01 17:46:58,107 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e222af000f7e6c1aa2] rollback-transaction complete successfully
2018-08-01 17:46:58,109 ERROR [http-nio-7071-exec-2] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:46:58,180 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e221e1001d7a0e073e| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e221e1001d7a0e073e.
2018-08-01 17:46:58,180 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e221e1001d7a0e073e| compensable transaction rolled back!
2018-08-01 17:46:58,180 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e221e1001d7a0e073e| forget transaction.
2018-08-01 17:47:22,676 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e2827f0022f4b5ef61| compensable transaction begin!
2018-08-01 17:47:22,676 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2827f0022f4b5ef61| register compensable service: a81e84a8fe2c00000164f4e2827f0022f4b5ef61.
2018-08-01 17:47:22,677 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e282b4001228c24ac2] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e282b500145f894ff8, flags: 0
2018-08-01 17:47:22,682 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e282b4001228c24ac2] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e282b500145f894ff8, flags= 67108864
2018-08-01 17:47:22,682 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e282b4001228c24ac2] prepare-transaction start
2018-08-01 17:47:22,683 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e282b4001228c24ac2] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e282b500145f894ff8, vote= 0
2018-08-01 17:47:22,683 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e282b4001228c24ac2] prepare-transaction complete successfully
2018-08-01 17:47:22,683 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e282b4001228c24ac2] commit-transaction start
2018-08-01 17:47:22,704 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e282b4001228c24ac2] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e282b500145f894ff8, opc= false
2018-08-01 17:47:22,704 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2827f0022f4b5ef61| try: identifier= a81e84a8fe2c00000164f4e2827f0022f4b5ef61, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164f4e282b4001228c24ac2-a81e84a8fe2c00000164f4e282b500145f894ff8.
2018-08-01 17:47:22,705 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e282b4001228c24ac2] commit-transaction complete successfully
2018-08-01 17:47:22,898 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e2836500158d90fd87] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e283920016b0255d32, flags: 0
2018-08-01 17:47:22,904 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e2836500158d90fd87] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e283920016b0255d32, flags= 67108864
2018-08-01 17:47:22,905 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e2836500158d90fd87] prepare-transaction start
2018-08-01 17:47:22,906 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e2836500158d90fd87] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e283920016b0255d32, vote= 0
2018-08-01 17:47:22,906 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e2836500158d90fd87] prepare-transaction complete successfully
2018-08-01 17:47:22,906 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e2836500158d90fd87] commit-transaction start
2018-08-01 17:47:22,932 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e2836500158d90fd87] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e283920016b0255d32, opc= false
2018-08-01 17:47:22,933 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2827f0022f4b5ef61| confirm: identifier= a81e84a8fe2c00000164f4e2827f0022f4b5ef61, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164f4e2836500158d90fd87-a81e84a8fe2c00000164f4e283920016b0255d32.
2018-08-01 17:47:22,933 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e2836500158d90fd87] commit-transaction complete successfully
2018-08-01 17:47:22,933 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2827f0022f4b5ef61| compensable transaction committed!
2018-08-01 17:47:22,936 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e2827f0022f4b5ef61| forget transaction.
2018-08-01 17:47:34,812 ERROR [pool-1-thread-3] - [org.bytesoft.bytejta.supports.jdbc.RecoveredResource] - Error occurred while forgetting resources.
java.sql.BatchUpdateException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1160)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1773)
	at com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1257)
	at com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:959)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.bytesoft.bytejta.supports.jdbc.RecoveredResource.forget(RecoveredResource.java:163)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanup(CleanupWork.java:242)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupByResource(CleanupWork.java:199)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupSlaver(CleanupWork.java:177)
	at org.bytesoft.bytetcc.work.CleanupWork.run(CleanupWork.java:146)
	at org.bytesoft.transaction.work.SimpleWork.run(SimpleWork.java:30)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:941)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3870)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3806)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2470)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2617)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2550)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1751)
	... 15 common frames omitted
2018-08-01 17:50:03,082 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e4f4ec0029a4609c6c| compensable transaction begin!
2018-08-01 17:50:03,083 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e4f4ec0029a4609c6c| register compensable service: a81e84a8fe2c00000164f4e4f4ec0029a4609c6c.
2018-08-01 17:50:03,083 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e4f54b0017322081e8] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e4f54b0019d9341311, flags: 0
2018-08-01 17:50:03,087 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e4f54b0017322081e8] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e4f54b0019d9341311, flags= 67108864
2018-08-01 17:50:03,088 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e4f54b0017322081e8] rollback-transaction start
2018-08-01 17:50:03,088 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e4f54b0017322081e8] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e4f54b0019d9341311
2018-08-01 17:50:03,089 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e4f54b0017322081e8] rollback-transaction complete successfully
2018-08-01 17:50:03,090 ERROR [http-nio-7071-exec-6] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:03,266 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e4f4ec0029a4609c6c| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e4f4ec0029a4609c6c.
2018-08-01 17:50:03,266 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e4f4ec0029a4609c6c| compensable transaction rolled back!
2018-08-01 17:50:03,266 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e4f4ec0029a4609c6c| forget transaction.
2018-08-01 17:50:04,845 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@257d3968)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 17:50:09,106 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e50c5a002e404816b6| compensable transaction begin!
2018-08-01 17:50:09,108 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e50c5a002e404816b6| register compensable service: a81e84a8fe2c00000164f4e50c5a002e404816b6.
2018-08-01 17:50:09,109 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e50cd4001a084d4fc7] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e50cd5001c9b3c2c59, flags: 0
2018-08-01 17:50:09,116 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e50cd4001a084d4fc7] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e50cd5001c9b3c2c59, flags= 67108864
2018-08-01 17:50:09,116 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e50cd4001a084d4fc7] rollback-transaction start
2018-08-01 17:50:09,118 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e50cd4001a084d4fc7] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e50cd5001c9b3c2c59
2018-08-01 17:50:09,118 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e50cd4001a084d4fc7] rollback-transaction complete successfully
2018-08-01 17:50:09,120 ERROR [http-nio-7071-exec-8] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:09,223 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e50c5a002e404816b6| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e50c5a002e404816b6.
2018-08-01 17:50:09,223 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e50c5a002e404816b6| compensable transaction rolled back!
2018-08-01 17:50:09,223 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e50c5a002e404816b6| forget transaction.
2018-08-01 17:50:09,633 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 17:50:10,585 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e5124300337f947d80| compensable transaction begin!
2018-08-01 17:50:10,586 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5124300337f947d80| register compensable service: a81e84a8fe2c00000164f4e5124300337f947d80.
2018-08-01 17:50:10,586 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5129a001d7d963c69] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5129a001faf3bc01e, flags: 0
2018-08-01 17:50:10,590 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5129a001d7d963c69] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5129a001faf3bc01e, flags= 67108864
2018-08-01 17:50:10,590 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5129a001d7d963c69] rollback-transaction start
2018-08-01 17:50:10,591 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e5129a001d7d963c69] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5129a001faf3bc01e
2018-08-01 17:50:10,592 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5129a001d7d963c69] rollback-transaction complete successfully
2018-08-01 17:50:10,592 ERROR [http-nio-7071-exec-10] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:10,762 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5124300337f947d80| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e5124300337f947d80.
2018-08-01 17:50:10,762 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5124300337f947d80| compensable transaction rolled back!
2018-08-01 17:50:10,762 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5124300337f947d80| forget transaction.
2018-08-01 17:50:11,650 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e516680038c6608586| compensable transaction begin!
2018-08-01 17:50:11,651 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e516680038c6608586| register compensable service: a81e84a8fe2c00000164f4e516680038c6608586.
2018-08-01 17:50:11,651 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e516c300200677a471] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e516c300221cbeb1c7, flags: 0
2018-08-01 17:50:11,658 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e516c300200677a471] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e516c300221cbeb1c7, flags= 67108864
2018-08-01 17:50:11,658 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e516c300200677a471] rollback-transaction start
2018-08-01 17:50:11,661 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e516c300200677a471] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e516c300221cbeb1c7
2018-08-01 17:50:11,661 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e516c300200677a471] rollback-transaction complete successfully
2018-08-01 17:50:11,662 ERROR [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:11,736 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e516680038c6608586| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e516680038c6608586.
2018-08-01 17:50:11,736 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e516680038c6608586| compensable transaction rolled back!
2018-08-01 17:50:11,736 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e516680038c6608586| forget transaction.
2018-08-01 17:50:11,850 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@257d3968)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 17:50:12,953 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e51b61003d2cade656| compensable transaction begin!
2018-08-01 17:50:12,954 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e51b61003d2cade656| register compensable service: a81e84a8fe2c00000164f4e51b61003d2cade656.
2018-08-01 17:50:12,954 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e51bda00238352c39e] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e51bda00255b6c033b, flags: 0
2018-08-01 17:50:12,960 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e51bda00238352c39e] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e51bda00255b6c033b, flags= 67108864
2018-08-01 17:50:12,960 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e51bda00238352c39e] rollback-transaction start
2018-08-01 17:50:12,961 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e51bda00238352c39e] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e51bda00255b6c033b
2018-08-01 17:50:12,962 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e51bda00238352c39e] rollback-transaction complete successfully
2018-08-01 17:50:13,036 ERROR [http-nio-7071-exec-4] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:13,106 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e51b61003d2cade656| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e51b61003d2cade656.
2018-08-01 17:50:13,107 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e51b61003d2cade656| compensable transaction rolled back!
2018-08-01 17:50:13,107 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e51b61003d2cade656| forget transaction.
2018-08-01 17:50:14,200 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e5208d0042764de1e0| compensable transaction begin!
2018-08-01 17:50:14,201 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5208d0042764de1e0| register compensable service: a81e84a8fe2c00000164f4e5208d0042764de1e0.
2018-08-01 17:50:14,201 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e520b9002645f95bbb] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e520b900287023dfac, flags: 0
2018-08-01 17:50:14,204 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e520b9002645f95bbb] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e520b900287023dfac, flags= 67108864
2018-08-01 17:50:14,204 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e520b9002645f95bbb] rollback-transaction start
2018-08-01 17:50:14,205 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e520b9002645f95bbb] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e520b900287023dfac
2018-08-01 17:50:14,205 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e520b9002645f95bbb] rollback-transaction complete successfully
2018-08-01 17:50:14,206 ERROR [http-nio-7071-exec-6] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:14,291 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5208d0042764de1e0| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e5208d0042764de1e0.
2018-08-01 17:50:14,291 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5208d0042764de1e0| compensable transaction rolled back!
2018-08-01 17:50:14,291 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5208d0042764de1e0| forget transaction.
2018-08-01 17:50:14,853 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@257d3968)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 17:50:35,134 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e571a8004761e15024| compensable transaction begin!
2018-08-01 17:50:35,134 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e571a8004761e15024| register compensable service: a81e84a8fe2c00000164f4e571a8004761e15024.
2018-08-01 17:50:35,134 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5727e002963b53b27] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5727e002b890feca0, flags: 0
2018-08-01 17:50:35,137 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5727e002963b53b27] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5727e002b890feca0, flags= 67108864
2018-08-01 17:50:35,137 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5727e002963b53b27] rollback-transaction start
2018-08-01 17:50:35,138 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e5727e002963b53b27] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5727e002b890feca0
2018-08-01 17:50:35,138 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5727e002963b53b27] rollback-transaction complete successfully
2018-08-01 17:50:35,139 ERROR [http-nio-7071-exec-8] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:35,201 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e571a8004761e15024| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e571a8004761e15024.
2018-08-01 17:50:35,201 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e571a8004761e15024| compensable transaction rolled back!
2018-08-01 17:50:35,201 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e571a8004761e15024| forget transaction.
2018-08-01 17:50:36,277 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e576c4004cef7b89f6| compensable transaction begin!
2018-08-01 17:50:36,277 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e576c4004cef7b89f6| register compensable service: a81e84a8fe2c00000164f4e576c4004cef7b89f6.
2018-08-01 17:50:36,278 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e576f5002cb2053400] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e576f6002ea9c0e0ac, flags: 0
2018-08-01 17:50:36,281 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e576f5002cb2053400] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e576f6002ea9c0e0ac, flags= 67108864
2018-08-01 17:50:36,281 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e576f5002cb2053400] rollback-transaction start
2018-08-01 17:50:36,281 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e576f5002cb2053400] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e576f6002ea9c0e0ac
2018-08-01 17:50:36,282 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e576f5002cb2053400] rollback-transaction complete successfully
2018-08-01 17:50:36,282 ERROR [http-nio-7071-exec-10] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:36,431 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e576c4004cef7b89f6| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e576c4004cef7b89f6.
2018-08-01 17:50:36,431 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e576c4004cef7b89f6| compensable transaction rolled back!
2018-08-01 17:50:36,431 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e576c4004cef7b89f6| forget transaction.
2018-08-01 17:50:37,573 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e57bb100512159e263| compensable transaction begin!
2018-08-01 17:50:37,574 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e57bb100512159e263| register compensable service: a81e84a8fe2c00000164f4e57bb100512159e263.
2018-08-01 17:50:37,574 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e57c06002f5d237edd] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e57c0600317f91f96c, flags: 0
2018-08-01 17:50:37,577 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e57c06002f5d237edd] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e57c0600317f91f96c, flags= 67108864
2018-08-01 17:50:37,578 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e57c06002f5d237edd] rollback-transaction start
2018-08-01 17:50:37,578 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e57c06002f5d237edd] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e57c0600317f91f96c
2018-08-01 17:50:37,578 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e57c06002f5d237edd] rollback-transaction complete successfully
2018-08-01 17:50:37,579 ERROR [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:37,656 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e57bb100512159e263| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e57bb100512159e263.
2018-08-01 17:50:37,657 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e57bb100512159e263| compensable transaction rolled back!
2018-08-01 17:50:37,657 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e57bb100512159e263| forget transaction.
2018-08-01 17:50:37,873 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@257d3968)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 17:50:38,443 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e57f17005669b10439| compensable transaction begin!
2018-08-01 17:50:38,444 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e57f17005669b10439| register compensable service: a81e84a8fe2c00000164f4e57f17005669b10439.
2018-08-01 17:50:38,444 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e57f6c003248f39be2] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e57f6c00341b28c98a, flags: 0
2018-08-01 17:50:38,450 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e57f6c003248f39be2] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e57f6c00341b28c98a, flags= 67108864
2018-08-01 17:50:38,450 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e57f6c003248f39be2] rollback-transaction start
2018-08-01 17:50:38,451 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e57f6c003248f39be2] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e57f6c00341b28c98a
2018-08-01 17:50:38,451 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e57f6c003248f39be2] rollback-transaction complete successfully
2018-08-01 17:50:38,452 ERROR [http-nio-7071-exec-4] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:38,531 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e57f17005669b10439| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e57f17005669b10439.
2018-08-01 17:50:38,531 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e57f17005669b10439| compensable transaction rolled back!
2018-08-01 17:50:38,531 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e57f17005669b10439| forget transaction.
2018-08-01 17:50:39,233 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e58220005b3257015c| compensable transaction begin!
2018-08-01 17:50:39,234 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e58220005b3257015c| register compensable service: a81e84a8fe2c00000164f4e58220005b3257015c.
2018-08-01 17:50:39,234 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5828200355c6ab0d7] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e582820037d6fd6d36, flags: 0
2018-08-01 17:50:39,237 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5828200355c6ab0d7] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e582820037d6fd6d36, flags= 67108864
2018-08-01 17:50:39,237 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5828200355c6ab0d7] rollback-transaction start
2018-08-01 17:50:39,237 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e5828200355c6ab0d7] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e582820037d6fd6d36
2018-08-01 17:50:39,237 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5828200355c6ab0d7] rollback-transaction complete successfully
2018-08-01 17:50:39,238 ERROR [http-nio-7071-exec-6] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:39,316 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e58220005b3257015c| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e58220005b3257015c.
2018-08-01 17:50:39,316 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e58220005b3257015c| compensable transaction rolled back!
2018-08-01 17:50:39,316 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e58220005b3257015c| forget transaction.
2018-08-01 17:50:40,111 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e5859900607921ce09| compensable transaction begin!
2018-08-01 17:50:40,112 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5859900607921ce09| register compensable service: a81e84a8fe2c00000164f4e5859900607921ce09.
2018-08-01 17:50:40,112 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e585f00038c2d1e2d2] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e585f0003a75a114d2, flags: 0
2018-08-01 17:50:40,117 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e585f00038c2d1e2d2] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e585f0003a75a114d2, flags= 67108864
2018-08-01 17:50:40,117 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e585f00038c2d1e2d2] rollback-transaction start
2018-08-01 17:50:40,118 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e585f00038c2d1e2d2] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e585f0003a75a114d2
2018-08-01 17:50:40,118 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e585f00038c2d1e2d2] rollback-transaction complete successfully
2018-08-01 17:50:40,119 ERROR [http-nio-7071-exec-8] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:40,225 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5859900607921ce09| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e5859900607921ce09.
2018-08-01 17:50:40,225 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5859900607921ce09| compensable transaction rolled back!
2018-08-01 17:50:40,225 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5859900607921ce09| forget transaction.
2018-08-01 17:50:41,738 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e58bdb0065b3fd0b89| compensable transaction begin!
2018-08-01 17:50:41,740 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e58bdb0065b3fd0b89| register compensable service: a81e84a8fe2c00000164f4e58bdb0065b3fd0b89.
2018-08-01 17:50:41,740 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e58c4c003b31f70aa0] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e58c4c003d85d83879, flags: 0
2018-08-01 17:50:41,747 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e58c4c003b31f70aa0] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e58c4c003d85d83879, flags= 67108864
2018-08-01 17:50:41,747 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e58c4c003b31f70aa0] rollback-transaction start
2018-08-01 17:50:41,748 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e58c4c003b31f70aa0] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e58c4c003d85d83879
2018-08-01 17:50:41,749 INFO  [http-nio-7071-exec-10] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e58c4c003b31f70aa0] rollback-transaction complete successfully
2018-08-01 17:50:41,750 ERROR [http-nio-7071-exec-10] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:50:41,832 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e58bdb0065b3fd0b89| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e58bdb0065b3fd0b89.
2018-08-01 17:50:41,832 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e58bdb0065b3fd0b89| compensable transaction rolled back!
2018-08-01 17:50:41,832 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e58bdb0065b3fd0b89| forget transaction.
2018-08-01 17:50:43,882 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@257d3968)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 17:51:07,120 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4e5ef06006a843fe9e3| compensable transaction begin!
2018-08-01 17:51:07,121 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5ef06006a843fe9e3| register compensable service: a81e84a8fe2c00000164f4e5ef06006a843fe9e3.
2018-08-01 17:51:07,121 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5ef71003ec67ec88f] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5ef710040179f8215, flags: 0
2018-08-01 17:51:07,126 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5ef71003ec67ec88f] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5ef710040179f8215, flags= 67108864
2018-08-01 17:51:07,126 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5ef71003ec67ec88f] rollback-transaction start
2018-08-01 17:51:07,127 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4e5ef71003ec67ec88f] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4e5ef710040179f8215
2018-08-01 17:51:07,127 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4e5ef71003ec67ec88f] rollback-transaction complete successfully
2018-08-01 17:51:07,128 ERROR [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$973f48e2.decreaseAmount(<generated>)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 17:51:07,207 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5ef06006a843fe9e3| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4e5ef06006a843fe9e3.
2018-08-01 17:51:07,207 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5ef06006a843fe9e3| compensable transaction rolled back!
2018-08-01 17:51:07,207 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4e5ef06006a843fe9e3| forget transaction.
2018-08-01 17:56:54,358 INFO  [main] - [org.springframework.context.annotation.AnnotationConfigApplicationContext] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36: startup date [Wed Aug 01 17:56:54 CST 2018]; root of context hierarchy
2018-08-01 17:56:55,638 INFO  [background-preinit] - [org.hibernate.validator.internal.util.Version] - HV000001: Hibernate Validator 5.2.4.Final
2018-08-01 17:56:55,688 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:56:55,849 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$3645a226] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:56:58,037 INFO  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Fetching config from server at: http://localhost:8888
2018-08-01 17:56:59,493 WARN  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/provider2/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-08-01 17:56:59,498 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - No active profile set, falling back to default profiles: default
2018-08-01 17:56:59,521 INFO  [main] - [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext] - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5a5c128: startup date [Wed Aug 01 17:56:59 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:57:02,670 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud.xml]
2018-08-01 17:57:03,087 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-disable-tx-advice.xml]
2018-08-01 17:57:03,187 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud-core.xml]
2018-08-01 17:57:03,261 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-jta.xml]
2018-08-01 17:57:03,382 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-tcc.xml]
2018-08-01 17:57:03,405 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-task.xml]
2018-08-01 17:57:04,074 INFO  [main] - [org.springframework.beans.factory.support.DefaultListableBeanFactory] - Overriding bean definition for bean 'org.springframework.transaction.config.internalTransactionAdvisor' with a different definition: replacing [Root bean: class [org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration; factoryMethodName=transactionAdvisor; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]]
2018-08-01 17:57:04,075 INFO  [main] - [org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader] - Skipping bean definition for [BeanMethod:name=transactionalEventListenerFactory,declaringClass=org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration]: a definition for bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory' already exists. This top-level bean definition is considered as an override.
2018-08-01 17:57:04,988 INFO  [main] - [org.springframework.cloud.context.scope.GenericScope] - BeanFactory id=c84add68-2949-3138-8ff3-22ff9d27292f
2018-08-01 17:57:05,515 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-01 17:57:05,759 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport$$EnhancerBySpringCGLIB$$576d3cec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:05,876 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:05,974 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration' of type [org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration$$EnhancerBySpringCGLIB$$1c90e55b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:06,493 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'sleuthAdvisorConfig' of type [org.springframework.cloud.sleuth.annotation.SleuthAdvisorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:06,510 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1a2b9f29] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:06,956 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$3645a226] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:07,020 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration$$EnhancerBySpringCGLIB$$59bd77ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:07,249 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$$EnhancerBySpringCGLIB$$20f4b48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:07,316 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration$$EnhancerBySpringCGLIB$$5f283188] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-01 17:57:09,035 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat initialized with port(s): 7071 (http)
2018-08-01 17:57:09,134 INFO  [main] - [org.apache.catalina.core.StandardService] - Starting service Tomcat
2018-08-01 17:57:09,136 INFO  [main] - [org.apache.catalina.core.StandardEngine] - Starting Servlet Engine: Apache Tomcat/8.5.5
2018-08-01 17:57:09,775 INFO  [localhost-startStop-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2018-08-01 17:57:09,776 INFO  [localhost-startStop-1] - [org.springframework.web.context.ContextLoader] - Root WebApplicationContext: initialization completed in 10255 ms
2018-08-01 17:57:12,000 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-01 17:57:12,001 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'traceFilter' to: [/*]
2018-08-01 17:57:12,001 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-01 17:57:12,001 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-01 17:57:12,002 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'requestContextFilter' to: [/*]
2018-08-01 17:57:12,003 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.ServletRegistrationBean] - Mapping servlet: 'dispatcherServlet' to [/]
2018-08-01 17:57:15,194 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA UserTransaction: org.bytesoft.bytetcc.UserCompensableImpl@26a9c6df
2018-08-01 17:57:15,194 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA TransactionManager: org.bytesoft.bytetcc.TransactionManagerImpl@2ce24a1a
2018-08-01 17:57:17,151 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter] - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5a5c128: startup date [Wed Aug 01 17:56:59 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@436bc36
2018-08-01 17:57:17,414 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/increase],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.increaseAmount(java.lang.String,double)
2018-08-01 17:57:17,415 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/decrease],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.decreaseAmount(java.lang.String,double)
2018-08-01 17:57:17,416 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/prepare/{xid}],methods=[POST]}" onto public int org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.prepare(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:57:17,416 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/rollback/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.rollback(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:57:17,417 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/commit/{xid}/{opc}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.commit(java.lang.String,boolean,javax.servlet.http.HttpServletResponse)
2018-08-01 17:57:17,417 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/forget/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.forget(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-01 17:57:17,417 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/recover/{flag}],methods=[GET]}" onto public javax.transaction.xa.Xid[] org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.recover(int,javax.servlet.http.HttpServletResponse)
2018-08-01 17:57:17,421 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-01 17:57:17,421 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-01 17:57:17,648 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:57:17,648 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:57:17,812 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-01 17:57:19,230 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:57:19,230 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:57:19,241 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-01 17:57:19,241 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-01 17:57:20,476 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Registering beans for JMX exposure on startup
2018-08-01 17:57:20,492 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-08-01 17:57:20,493 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-08-01 17:57:20,495 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-08-01 17:57:20,498 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-08-01 17:57:20,513 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-08-01 17:57:20,531 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=5a5c128,type=ConfigurationPropertiesRebinder]
2018-08-01 17:57:20,675 INFO  [main] - [org.springframework.context.support.DefaultLifecycleProcessor] - Starting beans in phase 0
2018-08-01 17:57:20,688 INFO  [main] - [org.springframework.cloud.netflix.eureka.InstanceInfoFactory] - Setting initial instance status as: STARTING
2018-08-01 17:57:20,779 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Initializing Eureka in region us-east-1
2018-08-01 17:57:20,874 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON encoding codec LegacyJacksonJson
2018-08-01 17:57:20,874 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON decoding codec LegacyJacksonJson
2018-08-01 17:57:21,046 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML encoding codec XStreamXml
2018-08-01 17:57:21,046 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML decoding codec XStreamXml
2018-08-01 17:57:21,380 INFO  [main] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 17:57:21,470 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Disable delta property : false
2018-08-01 17:57:21,471 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Single vip registry refresh property : null
2018-08-01 17:57:21,471 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Force full registry fetch : false
2018-08-01 17:57:21,471 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application is null : false
2018-08-01 17:57:21,471 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Registered Applications size is zero : true
2018-08-01 17:57:21,471 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application version is -1: true
2018-08-01 17:57:21,471 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Getting all instance registry info from the eureka server
2018-08-01 17:57:21,691 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - The response status is 200
2018-08-01 17:57:21,692 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Starting heartbeat executor: renew interval is: 30
2018-08-01 17:57:21,700 INFO  [main] - [com.netflix.discovery.InstanceInfoReplicator] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-08-01 17:57:21,706 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Discovery Client initialized at timestamp 1533117441706 with initial instances count: 1
2018-08-01 17:57:21,861 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry] - Registering application provider2 with eureka with status UP
2018-08-01 17:57:21,862 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Saw local status change event StatusChangeEvent [timestamp=1533117441862, current=UP, previous=STARTING]
2018-08-01 17:57:21,864 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071: registering service...
2018-08-01 17:57:21,911 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Initializing ProtocolHandler ["http-nio-7071"]
2018-08-01 17:57:21,921 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - registration status: 204
2018-08-01 17:57:21,933 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Starting ProtocolHandler [http-nio-7071]
2018-08-01 17:57:21,935 INFO  [main] - [org.apache.tomcat.util.net.NioSelectorPool] - Using a shared selector for servlet write/read
2018-08-01 17:57:21,968 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat started on port(s): 7071 (http)
2018-08-01 17:57:21,969 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration] - Updating port to 7071
2018-08-01 17:57:21,974 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - Started SampleProvider2Main in 29.455 seconds (JVM running for 31.075)
2018-08-01 18:02:15,360 INFO  [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-01 18:02:15,360 INFO  [http-nio-7071-exec-1] - [org.springframework.web.servlet.DispatcherServlet] - FrameworkServlet 'dispatcherServlet': initialization started
2018-08-01 18:02:15,565 INFO  [http-nio-7071-exec-1] - [org.springframework.web.servlet.DispatcherServlet] - FrameworkServlet 'dispatcherServlet': initialization completed in 205 ms
2018-08-01 18:02:15,797 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4f01def00041db4cd81| compensable transaction begin!
2018-08-01 18:02:15,835 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f01def00041db4cd81| register compensable service: a81e84a8fe2c00000164f4f01def00041db4cd81.
2018-08-01 18:02:16,291 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f02394000143b5f1da] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f025630003ccbd53c1, flags: 0
2018-08-01 18:02:16,340 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f02394000143b5f1da] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f025630003ccbd53c1, flags= 67108864
2018-08-01 18:02:16,341 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f02394000143b5f1da] rollback-transaction start
2018-08-01 18:02:16,348 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f02394000143b5f1da] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f025630003ccbd53c1
2018-08-01 18:02:16,349 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f02394000143b5f1da] rollback-transaction complete successfully
2018-08-01 18:02:16,380 ERROR [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$299f3d64.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 18:02:21,475 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 18:02:42,475 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f01def00041db4cd81| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4f01def00041db4cd81.
2018-08-01 18:02:42,476 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f01def00041db4cd81| compensable transaction rolled back!
2018-08-01 18:02:42,476 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f01def00041db4cd81| forget transaction.
2018-08-01 18:02:43,853 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@3aebdb4)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 18:03:45,825 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4f182af00098457741f| compensable transaction begin!
2018-08-01 18:03:45,826 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f182af00098457741f| register compensable service: a81e84a8fe2c00000164f4f182af00098457741f.
2018-08-01 18:03:45,827 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f183220004c18d22a6] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f183230006e6ca653a, flags: 0
2018-08-01 18:03:45,831 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f183220004c18d22a6] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f183230006e6ca653a, flags= 67108864
2018-08-01 18:03:45,831 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f183220004c18d22a6] rollback-transaction start
2018-08-01 18:03:45,832 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f183220004c18d22a6] rollback: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f183230006e6ca653a
2018-08-01 18:03:45,832 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f183220004c18d22a6] rollback-transaction complete successfully
2018-08-01 18:03:45,834 ERROR [http-nio-7071-exec-3] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: ERROR!] with root cause
java.lang.IllegalStateException: ERROR!
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:44)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$299f3d64.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-01 18:03:47,903 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@3aebdb4)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-01 18:06:23,336 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f182af00098457741f| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164f4f182af00098457741f.
2018-08-01 18:06:23,337 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f182af00098457741f| compensable transaction rolled back!
2018-08-01 18:06:23,337 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f182af00098457741f| forget transaction.
2018-08-01 18:07:21,477 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 18:09:04,687 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4f66070000eb452bffe| compensable transaction begin!
2018-08-01 18:09:04,688 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f66070000eb452bffe| register compensable service: a81e84a8fe2c00000164f4f66070000eb452bffe.
2018-08-01 18:09:04,688 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f660af000756b74406] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f660b00009a9f18f90, flags: 0
2018-08-01 18:09:04,693 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f660af000756b74406] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f660b00009a9f18f90, flags= 67108864
2018-08-01 18:09:04,694 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f660af000756b74406] prepare-transaction start
2018-08-01 18:09:04,694 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f660af000756b74406] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f660b00009a9f18f90, vote= 0
2018-08-01 18:09:04,695 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f660af000756b74406] prepare-transaction complete successfully
2018-08-01 18:09:04,695 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f660af000756b74406] commit-transaction start
2018-08-01 18:09:04,721 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f660af000756b74406] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f660b00009a9f18f90, opc= false
2018-08-01 18:09:04,721 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f66070000eb452bffe| try: identifier= a81e84a8fe2c00000164f4f66070000eb452bffe, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164f4f660af000756b74406-a81e84a8fe2c00000164f4f660b00009a9f18f90.
2018-08-01 18:09:04,722 INFO  [http-nio-7071-exec-5] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f660af000756b74406] commit-transaction complete successfully
2018-08-01 18:09:04,927 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f66198000afc9d226e] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6619f000b82cbb132, flags: 0
2018-08-01 18:09:04,934 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f66198000afc9d226e] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6619f000b82cbb132, flags= 67108864
2018-08-01 18:09:04,935 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f66198000afc9d226e] prepare-transaction start
2018-08-01 18:09:04,935 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f66198000afc9d226e] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6619f000b82cbb132, vote= 0
2018-08-01 18:09:04,936 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f66198000afc9d226e] prepare-transaction complete successfully
2018-08-01 18:09:04,936 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f66198000afc9d226e] commit-transaction start
2018-08-01 18:09:04,960 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f66198000afc9d226e] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6619f000b82cbb132, opc= false
2018-08-01 18:09:04,960 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f66070000eb452bffe| confirm: identifier= a81e84a8fe2c00000164f4f66070000eb452bffe, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164f4f66198000afc9d226e-a81e84a8fe2c00000164f4f6619f000b82cbb132.
2018-08-01 18:09:04,960 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f66198000afc9d226e] commit-transaction complete successfully
2018-08-01 18:09:04,963 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f66070000eb452bffe| compensable transaction committed!
2018-08-01 18:09:04,964 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f66070000eb452bffe| forget transaction.
2018-08-01 18:09:16,318 ERROR [pool-1-thread-3] - [org.bytesoft.bytejta.supports.jdbc.RecoveredResource] - Error occurred while forgetting resources.
java.sql.BatchUpdateException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1160)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1773)
	at com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1257)
	at com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:959)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.bytesoft.bytejta.supports.jdbc.RecoveredResource.forget(RecoveredResource.java:163)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanup(CleanupWork.java:242)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupByResource(CleanupWork.java:199)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupSlaver(CleanupWork.java:177)
	at org.bytesoft.bytetcc.work.CleanupWork.run(CleanupWork.java:146)
	at org.bytesoft.transaction.work.SimpleWork.run(SimpleWork.java:30)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:941)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3870)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3806)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2470)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2617)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2550)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1751)
	... 15 common frames omitted
2018-08-01 18:09:37,620 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164f4f6e0ed001534b15433| compensable transaction begin!
2018-08-01 18:09:37,621 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f6e0ed001534b15433| register compensable service: a81e84a8fe2c00000164f4f6e0ed001534b15433.
2018-08-01 18:09:37,621 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e155000c63a63e26] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6e155000e6817ad39, flags: 0
2018-08-01 18:09:37,627 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e155000c63a63e26] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6e155000e6817ad39, flags= 67108864
2018-08-01 18:09:37,627 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e155000c63a63e26] prepare-transaction start
2018-08-01 18:09:37,628 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f6e155000c63a63e26] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6e155000e6817ad39, vote= 0
2018-08-01 18:09:37,628 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e155000c63a63e26] prepare-transaction complete successfully
2018-08-01 18:09:37,628 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e155000c63a63e26] commit-transaction start
2018-08-01 18:09:37,653 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f6e155000c63a63e26] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6e155000e6817ad39, opc= false
2018-08-01 18:09:37,654 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f6e0ed001534b15433| try: identifier= a81e84a8fe2c00000164f4f6e0ed001534b15433, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164f4f6e155000c63a63e26-a81e84a8fe2c00000164f4f6e155000e6817ad39.
2018-08-01 18:09:37,654 INFO  [http-nio-7071-exec-8] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e155000c63a63e26] commit-transaction complete successfully
2018-08-01 18:09:37,775 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e1ef000f887ca937] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6e1ef0010cfc1a086, flags: 0
2018-08-01 18:09:37,779 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e1ef000f887ca937] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6e1ef0010cfc1a086, flags= 67108864
2018-08-01 18:09:37,779 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e1ef000f887ca937] prepare-transaction start
2018-08-01 18:09:37,780 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f6e1ef000f887ca937] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6e1ef0010cfc1a086, vote= 0
2018-08-01 18:09:37,780 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e1ef000f887ca937] prepare-transaction complete successfully
2018-08-01 18:09:37,780 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e1ef000f887ca937] commit-transaction start
2018-08-01 18:09:37,803 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164f4f6e1ef000f887ca937] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164f4f6e1ef0010cfc1a086, opc= false
2018-08-01 18:09:37,804 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f6e0ed001534b15433| confirm: identifier= a81e84a8fe2c00000164f4f6e0ed001534b15433, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164f4f6e1ef000f887ca937-a81e84a8fe2c00000164f4f6e1ef0010cfc1a086.
2018-08-01 18:09:37,804 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164f4f6e1ef000f887ca937] commit-transaction complete successfully
2018-08-01 18:09:37,804 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f6e0ed001534b15433| compensable transaction committed!
2018-08-01 18:09:37,805 INFO  [http-nio-7071-exec-9] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164f4f6e0ed001534b15433| forget transaction.
2018-08-01 18:09:46,387 ERROR [pool-1-thread-3] - [org.bytesoft.bytejta.supports.jdbc.RecoveredResource] - Error occurred while forgetting resources.
java.sql.BatchUpdateException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1160)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1773)
	at com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1257)
	at com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:959)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.bytesoft.bytejta.supports.jdbc.RecoveredResource.forget(RecoveredResource.java:163)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanup(CleanupWork.java:242)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupByResource(CleanupWork.java:199)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupSlaver(CleanupWork.java:177)
	at org.bytesoft.bytetcc.work.CleanupWork.run(CleanupWork.java:146)
	at org.bytesoft.transaction.work.SimpleWork.run(SimpleWork.java:30)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:941)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3870)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3806)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2470)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2617)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2550)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1751)
	... 15 common frames omitted
2018-08-01 18:12:21,480 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 18:17:21,482 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 18:22:21,484 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 18:27:21,486 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 18:32:21,488 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-01 18:37:21,491 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 08:47:15,972 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 08:52:15,973 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 08:57:15,975 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:02:15,979 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:07:15,980 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:12:15,983 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:17:15,986 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:22:15,988 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:27:15,989 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:32:15,990 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:37:15,992 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:42:15,993 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:47:15,994 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:52:15,996 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 09:57:15,998 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:02:16,001 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:07:16,003 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:12:16,005 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:17:16,007 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:22:16,008 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:27:16,011 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:32:16,016 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:37:16,017 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:42:16,019 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:47:16,020 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:52:16,022 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 10:57:16,024 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 11:02:16,027 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 18:35:48,297 INFO  [main] - [org.springframework.context.annotation.AnnotationConfigApplicationContext] - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1fb700ee: startup date [Thu Aug 02 18:35:48 CST 2018]; root of context hierarchy
2018-08-02 18:35:48,834 INFO  [background-preinit] - [org.hibernate.validator.internal.util.Version] - HV000001: Hibernate Validator 5.2.4.Final
2018-08-02 18:35:48,941 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-02 18:35:49,087 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d257aa6a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:35:51,561 INFO  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Fetching config from server at: http://localhost:8888
2018-08-02 18:35:52,901 WARN  [main] - [org.springframework.cloud.config.client.ConfigServicePropertySourceLocator] - Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/provider2/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-08-02 18:35:52,906 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - No active profile set, falling back to default profiles: default
2018-08-02 18:35:52,948 INFO  [main] - [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext] - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3cc41abc: startup date [Thu Aug 02 18:35:52 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1fb700ee
2018-08-02 18:35:55,429 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud.xml]
2018-08-02 18:35:55,704 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-disable-tx-advice.xml]
2018-08-02 18:35:55,775 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-springcloud-core.xml]
2018-08-02 18:35:55,824 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-jta.xml]
2018-08-02 18:35:55,874 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-tcc.xml]
2018-08-02 18:35:55,924 INFO  [main] - [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [bytetcc-supports-task.xml]
2018-08-02 18:35:56,327 INFO  [main] - [org.springframework.beans.factory.support.DefaultListableBeanFactory] - Overriding bean definition for bean 'org.springframework.transaction.config.internalTransactionAdvisor' with a different definition: replacing [Root bean: class [org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration; factoryMethodName=transactionAdvisor; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]]
2018-08-02 18:35:56,328 INFO  [main] - [org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader] - Skipping bean definition for [BeanMethod:name=transactionalEventListenerFactory,declaringClass=org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration]: a definition for bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory' already exists. This top-level bean definition is considered as an override.
2018-08-02 18:35:57,361 INFO  [main] - [org.springframework.cloud.context.scope.GenericScope] - BeanFactory id=c84add68-2949-3138-8ff3-22ff9d27292f
2018-08-02 18:35:57,880 INFO  [main] - [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-02 18:35:58,105 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$DefaultAsyncConfigurerSupport$$EnhancerBySpringCGLIB$$f37f4530] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:35:58,250 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor#0' of type [org.springframework.aop.support.DefaultBeanFactoryPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:35:58,382 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration' of type [org.springframework.cloud.sleuth.annotation.SleuthAnnotationAutoConfiguration$$EnhancerBySpringCGLIB$$b8a2ed9f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:35:59,142 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'sleuthAdvisorConfig' of type [org.springframework.cloud.sleuth.annotation.SleuthAdvisorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:35:59,159 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b63da76d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:36:00,356 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d257aa6a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:36:00,506 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f5cf8033] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:36:00,582 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration' of type [org.springframework.cloud.sleuth.instrument.async.AsyncDefaultAutoConfiguration$$EnhancerBySpringCGLIB$$9e21538c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:36:00,853 INFO  [main] - [org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker] - Bean 'org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration' of type [org.springframework.cloud.sleuth.instrument.web.client.TraceWebClientAutoConfiguration$TraceOAuthConfiguration$$EnhancerBySpringCGLIB$$fb3a39cc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-02 18:36:03,708 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat initialized with port(s): 7071 (http)
2018-08-02 18:36:03,740 INFO  [main] - [org.apache.catalina.core.StandardService] - Starting service Tomcat
2018-08-02 18:36:03,742 INFO  [main] - [org.apache.catalina.core.StandardEngine] - Starting Servlet Engine: Apache Tomcat/8.5.5
2018-08-02 18:36:04,297 INFO  [localhost-startStop-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring embedded WebApplicationContext
2018-08-02 18:36:04,298 INFO  [localhost-startStop-1] - [org.springframework.web.context.ContextLoader] - Root WebApplicationContext: initialization completed in 11350 ms
2018-08-02 18:36:06,548 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-02 18:36:06,549 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'traceFilter' to: [/*]
2018-08-02 18:36:06,550 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-02 18:36:06,550 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-02 18:36:06,551 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.FilterRegistrationBean] - Mapping filter: 'requestContextFilter' to: [/*]
2018-08-02 18:36:06,562 INFO  [localhost-startStop-1] - [org.springframework.boot.web.servlet.ServletRegistrationBean] - Mapping servlet: 'dispatcherServlet' to [/]
2018-08-02 18:36:11,698 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA UserTransaction: org.bytesoft.bytetcc.UserCompensableImpl@45eab322
2018-08-02 18:36:11,699 INFO  [main] - [org.springframework.transaction.jta.JtaTransactionManager] - Using JTA TransactionManager: org.bytesoft.bytetcc.TransactionManagerImpl@f017dd0
2018-08-02 18:36:13,662 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter] - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3cc41abc: startup date [Thu Aug 02 18:35:52 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1fb700ee
2018-08-02 18:36:13,875 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/increase],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.increaseAmount(java.lang.String,double)
2018-08-02 18:36:13,876 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/decrease],methods=[POST]}" onto public void com.bytesvc.provider.controller.AccountController.decreaseAmount(java.lang.String,double)
2018-08-02 18:36:13,877 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/prepare/{xid}],methods=[POST]}" onto public int org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.prepare(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-02 18:36:13,878 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/rollback/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.rollback(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-02 18:36:13,878 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/commit/{xid}/{opc}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.commit(java.lang.String,boolean,javax.servlet.http.HttpServletResponse)
2018-08-02 18:36:13,878 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/recover/{flag}],methods=[GET]}" onto public javax.transaction.xa.Xid[] org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.recover(int,javax.servlet.http.HttpServletResponse)
2018-08-02 18:36:13,878 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/org/bytesoft/bytetcc/forget/{xid}],methods=[POST]}" onto public void org.bytesoft.bytetcc.supports.springcloud.controller.CompensableCoordinatorController.forget(java.lang.String,javax.servlet.http.HttpServletResponse)
2018-08-02 18:36:13,881 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-02 18:36:13,882 INFO  [main] - [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-02 18:36:14,145 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-02 18:36:14,145 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-02 18:36:14,269 INFO  [main] - [org.springframework.web.servlet.handler.SimpleUrlHandlerMapping] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-02 18:36:15,440 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-02 18:36:15,440 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-02 18:36:15,448 WARN  [main] - [com.netflix.config.sources.URLConfigurationSource] - No URLs will be polled as dynamic configuration sources.
2018-08-02 18:36:15,449 INFO  [main] - [com.netflix.config.sources.URLConfigurationSource] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-08-02 18:36:16,310 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Registering beans for JMX exposure on startup
2018-08-02 18:36:16,318 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-08-02 18:36:16,319 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-08-02 18:36:16,321 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-08-02 18:36:16,324 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-08-02 18:36:16,337 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-08-02 18:36:16,350 INFO  [main] - [org.springframework.jmx.export.annotation.AnnotationMBeanExporter] - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=3cc41abc,type=ConfigurationPropertiesRebinder]
2018-08-02 18:36:16,470 INFO  [main] - [org.springframework.context.support.DefaultLifecycleProcessor] - Starting beans in phase 0
2018-08-02 18:36:16,480 INFO  [main] - [org.springframework.cloud.netflix.eureka.InstanceInfoFactory] - Setting initial instance status as: STARTING
2018-08-02 18:36:16,548 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Initializing Eureka in region us-east-1
2018-08-02 18:36:16,630 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON encoding codec LegacyJacksonJson
2018-08-02 18:36:16,630 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using JSON decoding codec LegacyJacksonJson
2018-08-02 18:36:16,783 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML encoding codec XStreamXml
2018-08-02 18:36:16,783 INFO  [main] - [com.netflix.discovery.provider.DiscoveryJerseyProvider] - Using XML decoding codec XStreamXml
2018-08-02 18:36:17,018 INFO  [main] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 18:36:17,106 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Disable delta property : false
2018-08-02 18:36:17,106 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Single vip registry refresh property : null
2018-08-02 18:36:17,107 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Force full registry fetch : false
2018-08-02 18:36:17,107 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application is null : false
2018-08-02 18:36:17,107 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Registered Applications size is zero : true
2018-08-02 18:36:17,107 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Application version is -1: true
2018-08-02 18:36:17,107 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Getting all instance registry info from the eureka server
2018-08-02 18:36:17,305 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - The response status is 200
2018-08-02 18:36:17,307 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Starting heartbeat executor: renew interval is: 30
2018-08-02 18:36:17,311 INFO  [main] - [com.netflix.discovery.InstanceInfoReplicator] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-08-02 18:36:17,314 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Discovery Client initialized at timestamp 1533206177314 with initial instances count: 1
2018-08-02 18:36:17,452 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry] - Registering application provider2 with eureka with status UP
2018-08-02 18:36:17,453 INFO  [main] - [com.netflix.discovery.DiscoveryClient] - Saw local status change event StatusChangeEvent [timestamp=1533206177453, current=UP, previous=STARTING]
2018-08-02 18:36:17,455 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071: registering service...
2018-08-02 18:36:17,484 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Initializing ProtocolHandler ["http-nio-7071"]
2018-08-02 18:36:17,508 INFO  [DiscoveryClient-InstanceInfoReplicator-0] - [com.netflix.discovery.DiscoveryClient] - DiscoveryClient_PROVIDER2/windows10.microdone.cn:provider2:7071 - registration status: 204
2018-08-02 18:36:17,521 INFO  [main] - [org.apache.coyote.http11.Http11NioProtocol] - Starting ProtocolHandler [http-nio-7071]
2018-08-02 18:36:17,522 INFO  [main] - [org.apache.tomcat.util.net.NioSelectorPool] - Using a shared selector for servlet write/read
2018-08-02 18:36:17,546 INFO  [main] - [org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer] - Tomcat started on port(s): 7071 (http)
2018-08-02 18:36:17,546 INFO  [main] - [org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration] - Updating port to 7071
2018-08-02 18:36:17,551 INFO  [main] - [com.bytesvc.provider.main.SampleProvider2Main] - Started SampleProvider2Main in 30.676 seconds (JVM running for 32.313)
2018-08-02 18:37:20,558 INFO  [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-02 18:37:20,558 INFO  [http-nio-7071-exec-1] - [org.springframework.web.servlet.DispatcherServlet] - FrameworkServlet 'dispatcherServlet': initialization started
2018-08-02 18:37:21,093 INFO  [http-nio-7071-exec-1] - [org.springframework.web.servlet.DispatcherServlet] - FrameworkServlet 'dispatcherServlet': initialization completed in 535 ms
2018-08-02 18:37:21,278 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164fa369900000498e19863| compensable transaction begin!
2018-08-02 18:37:21,316 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa369900000498e19863| register compensable service: a81e84a8fe2c00000164fa369900000498e19863.
2018-08-02 18:37:21,990 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa369900000498e19863| The operation in try phase is rolled back, so the cancel operation is ignored, compensable service: a81e84a8fe2c00000164fa369900000498e19863.
2018-08-02 18:37:21,990 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa369900000498e19863| compensable transaction rolled back!
2018-08-02 18:37:21,990 INFO  [http-nio-7071-exec-2] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa369900000498e19863| forget transaction.
2018-08-02 18:37:22,626 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa36a01d0001ef43a1a2] rollback-transaction start
2018-08-02 18:37:22,637 INFO  [http-nio-7071-exec-1] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa36a01d0001ef43a1a2] rollback-transaction complete successfully
2018-08-02 18:37:22,646 ERROR [http-nio-7071-exec-1] - [org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.reflect.UndeclaredThrowableException] with root cause
javax.transaction.RollbackException: null
	at org.bytesoft.bytejta.TransactionImpl.enlistResource(TransactionImpl.java:767)
	at org.bytesoft.bytejta.supports.jdbc.LocalXADataSource.getConnection(LocalXADataSource.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.bytesoft.bytejta.supports.resource.ManagedConnectionFactoryHandler.invoke(ManagedConnectionFactoryHandler.java:42)
	at com.sun.proxy.$Proxy94.getConnection(Unknown Source)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941)
	at com.bytesvc.provider.controller.AccountController.decreaseAmount(AccountController.java:41)
	at com.bytesvc.provider.controller.AccountController$$FastClassBySpringCGLIB$$79083d1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.execute(CompensableMethodInterceptor.java:194)
	at org.bytesoft.bytetcc.supports.spring.CompensableMethodInterceptor.invoke(CompensableMethodInterceptor.java:103)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)
	at com.bytesvc.provider.controller.AccountController$$EnhancerBySpringCGLIB$$a78e308.decreaseAmount(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.cloud.sleuth.instrument.web.TraceFilter.doFilter(TraceFilter.java:169)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-08-02 18:37:24,018 WARN  [AsyncReporter(org.springframework.cloud.sleuth.zipkin.RestTemplateSender@11896124)] - [zipkin.reporter.AsyncReporter$BoundedAsyncReporter] - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v1/spans": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:633)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:595)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:557)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.post(RestTemplateSender.java:73)
	at org.springframework.cloud.sleuth.zipkin.RestTemplateSender.sendSpans(RestTemplateSender.java:46)
	at zipkin.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:245)
	at zipkin.reporter.AsyncReporter$Builder.lambda$build$0(AsyncReporter.java:166)
	at zipkin.reporter.AsyncReporter$Builder$$Lambda$1.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:78)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:619)
	... 8 common frames omitted
2018-08-02 18:38:10,850 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164fa3760f60009a2f86f54| compensable transaction begin!
2018-08-02 18:38:10,852 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3760f60009a2f86f54| register compensable service: a81e84a8fe2c00000164fa3760f60009a2f86f54.
2018-08-02 18:38:10,854 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3761a40003f3212d79] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3761a60005b4295d6c, flags: 0
2018-08-02 18:38:10,908 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3761a40003f3212d79] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3761a60005b4295d6c, flags= 67108864
2018-08-02 18:38:10,914 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3761a40003f3212d79] prepare-transaction start
2018-08-02 18:38:10,915 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164fa3761a40003f3212d79] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3761a60005b4295d6c, vote= 0
2018-08-02 18:38:10,915 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3761a40003f3212d79] prepare-transaction complete successfully
2018-08-02 18:38:10,915 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3761a40003f3212d79] commit-transaction start
2018-08-02 18:38:10,956 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164fa3761a40003f3212d79] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3761a60005b4295d6c, opc= false
2018-08-02 18:38:10,956 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3760f60009a2f86f54| try: identifier= a81e84a8fe2c00000164fa3760f60009a2f86f54, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164fa3761a40003f3212d79-a81e84a8fe2c00000164fa3761a60005b4295d6c.
2018-08-02 18:38:10,956 INFO  [http-nio-7071-exec-3] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3761a40003f3212d79] commit-transaction complete successfully
2018-08-02 18:38:11,201 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3762f4000623e8ba03] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa376301000780173c02, flags: 0
2018-08-02 18:38:11,205 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3762f4000623e8ba03] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa376301000780173c02, flags= 67108864
2018-08-02 18:38:11,205 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3762f4000623e8ba03] prepare-transaction start
2018-08-02 18:38:11,207 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164fa3762f4000623e8ba03] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa376301000780173c02, vote= 0
2018-08-02 18:38:11,207 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3762f4000623e8ba03] prepare-transaction complete successfully
2018-08-02 18:38:11,207 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3762f4000623e8ba03] commit-transaction start
2018-08-02 18:38:11,247 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164fa3762f4000623e8ba03] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa376301000780173c02, opc= false
2018-08-02 18:38:11,247 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3760f60009a2f86f54| confirm: identifier= a81e84a8fe2c00000164fa3760f60009a2f86f54, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164fa3762f4000623e8ba03-a81e84a8fe2c00000164fa376301000780173c02.
2018-08-02 18:38:11,248 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3762f4000623e8ba03] commit-transaction complete successfully
2018-08-02 18:38:11,248 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3760f60009a2f86f54| compensable transaction committed!
2018-08-02 18:38:11,249 INFO  [http-nio-7071-exec-4] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3760f60009a2f86f54| forget transaction.
2018-08-02 18:38:11,922 ERROR [pool-1-thread-3] - [org.bytesoft.bytejta.supports.jdbc.RecoveredResource] - Error occurred while forgetting resources.
java.sql.BatchUpdateException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1160)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1773)
	at com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1257)
	at com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:959)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.bytesoft.bytejta.supports.jdbc.RecoveredResource.forget(RecoveredResource.java:163)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanup(CleanupWork.java:242)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupByResource(CleanupWork.java:199)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupSlaver(CleanupWork.java:177)
	at org.bytesoft.bytetcc.work.CleanupWork.run(CleanupWork.java:146)
	at org.bytesoft.transaction.work.SimpleWork.run(SimpleWork.java:30)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:941)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3870)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3806)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2470)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2617)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2550)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1751)
	... 15 common frames omitted
2018-08-02 18:41:17,110 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 18:42:02,679 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableCoordinator] - a81e84a8fe2c00000164fa3aeac10010ba660c7d| compensable transaction begin!
2018-08-02 18:42:02,680 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3aeac10010ba660c7d| register compensable service: a81e84a8fe2c00000164fa3aeac10010ba660c7d.
2018-08-02 18:42:02,681 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aeb380008bcc292ce] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3aeb39000af44eb989, flags: 0
2018-08-02 18:42:02,685 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aeb380008bcc292ce] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3aeb39000af44eb989, flags= 67108864
2018-08-02 18:42:02,685 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aeb380008bcc292ce] prepare-transaction start
2018-08-02 18:42:02,686 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164fa3aeb380008bcc292ce] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3aeb39000af44eb989, vote= 0
2018-08-02 18:42:02,686 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aeb380008bcc292ce] prepare-transaction complete successfully
2018-08-02 18:42:02,686 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aeb380008bcc292ce] commit-transaction start
2018-08-02 18:42:02,727 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164fa3aeb380008bcc292ce] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3aeb39000af44eb989, opc= false
2018-08-02 18:42:02,728 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3aeac10010ba660c7d| try: identifier= a81e84a8fe2c00000164fa3aeac10010ba660c7d, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164fa3aeb380008bcc292ce-a81e84a8fe2c00000164fa3aeb39000af44eb989.
2018-08-02 18:42:02,728 INFO  [http-nio-7071-exec-6] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aeb380008bcc292ce] commit-transaction complete successfully
2018-08-02 18:42:02,883 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aec03000b54857d16] enlist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3aec03000cf57283cf, flags: 0
2018-08-02 18:42:02,909 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aec03000b54857d16] delist: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3aec03000cf57283cf, flags= 67108864
2018-08-02 18:42:02,910 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aec03000b54857d16] prepare-transaction start
2018-08-02 18:42:02,911 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164fa3aec03000b54857d16] prepare: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3aec03000cf57283cf, vote= 0
2018-08-02 18:42:02,912 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aec03000b54857d16] prepare-transaction complete successfully
2018-08-02 18:42:02,912 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aec03000b54857d16] commit-transaction start
2018-08-02 18:42:02,956 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.resource.XATerminatorOptd] - [a81e84a8fe2c00000164fa3aec03000b54857d16] commit: xares= xa-res-archive[descriptor: local-xa-resource[dataSource]], branch= a81e84a8fe2c00000164fa3aec03000cf57283cf, opc= false
2018-08-02 18:42:02,956 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3aeac10010ba660c7d| confirm: identifier= a81e84a8fe2c00000164fa3aeac10010ba660c7d, resourceKey= dataSource, resourceXid= 1207-a81e84a8fe2c00000164fa3aec03000b54857d16-a81e84a8fe2c00000164fa3aec03000cf57283cf.
2018-08-02 18:42:02,956 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytejta.TransactionImpl] - [a81e84a8fe2c00000164fa3aec03000b54857d16] commit-transaction complete successfully
2018-08-02 18:42:02,956 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3aeac10010ba660c7d| compensable transaction committed!
2018-08-02 18:42:02,957 INFO  [http-nio-7071-exec-7] - [org.bytesoft.bytetcc.CompensableTransactionImpl] - a81e84a8fe2c00000164fa3aeac10010ba660c7d| forget transaction.
2018-08-02 18:42:12,336 ERROR [pool-1-thread-3] - [org.bytesoft.bytejta.supports.jdbc.RecoveredResource] - Error occurred while forgetting resources.
java.sql.BatchUpdateException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createBatchUpdateException(SQLError.java:1160)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1773)
	at com.mysql.jdbc.PreparedStatement.executeBatchInternal(PreparedStatement.java:1257)
	at com.mysql.jdbc.StatementImpl.executeBatch(StatementImpl.java:959)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.apache.commons.dbcp2.DelegatingStatement.executeBatch(DelegatingStatement.java:345)
	at org.bytesoft.bytejta.supports.jdbc.RecoveredResource.forget(RecoveredResource.java:163)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanup(CleanupWork.java:242)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupByResource(CleanupWork.java:199)
	at org.bytesoft.bytetcc.work.CleanupWork.cleanupSlaver(CleanupWork.java:177)
	at org.bytesoft.bytetcc.work.CleanupWork.run(CleanupWork.java:146)
	at org.bytesoft.transaction.work.SimpleWork.run(SimpleWork.java:30)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'inst03.bytejta' doesn't exist
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)
	at com.mysql.jdbc.Util.getInstance(Util.java:387)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:941)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3870)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3806)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2470)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2617)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2550)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)
	at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1751)
	... 15 common frames omitted
2018-08-02 18:46:17,113 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
2018-08-02 18:51:17,161 INFO  [AsyncResolver-bootstrap-executor-0] - [com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver] - Resolving eureka endpoints via configuration
